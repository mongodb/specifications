{
  "description" : "operation find",
  "schemaVersion" : "1.9",
  "createEntities" : [
    {
      "client" : {
        "id" : "client0",
        "useMultipleMongoses" : false,
        "tracing" : {
          "enableCommandPayload" : true
        }
      }
    },
    {
      "database" : {
        "id" : "database0",
        "client" : "client0",
        "databaseName" : "operation-find"
      }
    },
    {
      "collection" : {
        "id" : "collection0",
        "database" : "database0",
        "collectionName" : "test"
      }
    }
  ],
  "initialData" : [
    {
      "collectionName" : "test",
      "databaseName" : "operation-find",
      "documents" : []
    }
  ],
  "tests" : [
    {
      "description" : "find an element",
      "operations" : [
        {
          "name" : "find",
          "object" : "collection0",
          "arguments" : {
            "filter" : {
              "x" : 1
            }
          }
        }
      ],
      "expectTracingSpans" : {
        "client" : "client0",
        "ignoreExtraSpans" : false,
        "spans" : [
          {
            "name" : "find",
            "tags" : {
              "db.system" : "mongodb"
            },
            "nested" : [
              {
                "name" : "command find",
                "tags" : {
                  "db.system" : "mongodb",
                  "db.namespace" : "operation-find",
                  "server.address" : {
                    "$$type" : "string"
                  },
                  "server.port" : {
                    "$$type" : [
                      "long",
                      "string"
                    ]
                  },
                  "server.type" : {
                    "$$type" : "string"
                  },
                  "db.query.summary" : {
                    "$$matchAsDocument" : {
                      "$$matchAsRoot" : {
                        "find" : "test",
                        "filter" : {
                          "x" : 1
                        }
                      }
                    }
                  },
                  "db.query.text" : {
                    "$$matchAsDocument" : {
                      "$$matchAsRoot" : {
                        "find" : "test",
                        "filter" : {
                          "x" : 1
                        },
                        "$db" : "operation-find"
                      }
                    }
                  }
                }
              }
            ]
          }
        ]
      },
      "outcome" : [
        {
          "collectionName" : "test",
          "databaseName" : "operation-find",
          "documents" : []
        }
      ]
    }
  ]
}
