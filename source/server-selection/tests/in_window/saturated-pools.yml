description: Server with shortest WaitQueue among full pools selected
topology_description:
  type: Sharded
  servers:
  - address: a:27017
    avg_rtt_ms: 35
    type: Mongos
  - address: b:27017
    avg_rtt_ms: 35
    type: Mongos
  - address: c:27017
    avg_rtt_ms: 35
    type: Mongos
in_window:
    # never gets selected because its WaitQueue is bigger than
    # the other two
    - address: a:27017
      active_connection_count: 100
      available_connection_count: 0
      wait_queue_length: 10

    # these two always get selected when paired with a
    # but split the rest of the selections evenly
    - address: b:27017
      active_connection_count: 100
      available_connection_count: 0
      wait_queue_length: 5
    - address: c:27017
      active_connection_count: 100,
      available_connection_count: 0
      wait_queue_length: 4

max_pool_size: 100
expected_frequencies:
    a:27017: 0
    b:27017: 0.5
    c:27017: 0.5
